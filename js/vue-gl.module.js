var babelHelpers={};babelHelpers.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},babelHelpers.jsx=function(){var a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(b,c,d,e){var f=b&&b.defaultProps,g=arguments.length-3;if(c||0==g||(c={}),c&&f)for(var h in f)void 0===c[h]&&(c[h]=f[h]);else c||(c=f||{});if(1==g)c.children=e;else if(1<g){for(var j=Array(g),k=0;k<g;k++)j[k]=arguments[k+3];c.children=j}return{$$typeof:a,type:b,key:void 0===d?null:""+d,ref:null,props:c,_owner:null}}}(),babelHelpers.asyncIterator=function(a){if("function"==typeof Symbol){if(Symbol.asyncIterator){var b=a[Symbol.asyncIterator];if(null!=b)return b.call(a)}if(Symbol.iterator)return a[Symbol.iterator]()}throw new TypeError("Object is not async iterable")},babelHelpers.asyncGenerator=function(){function a(a){this.value=a}function b(b){function c(e,f){try{var g=b[e](f),h=g.value;h instanceof a?Promise.resolve(h.value).then(function(a){c("next",a)},function(a){c("throw",a)}):d(g.done?"return":"normal",g.value)}catch(a){d("throw",a)}}function d(a,b){"return"===a?e.resolve({value:b,done:!0}):"throw"===a?e.reject(b):e.resolve({value:b,done:!1});e=e.next,e?c(e.key,e.arg):f=null}var e,f;this._invoke=function(a,b){return new Promise(function(d,g){var h={key:a,arg:b,resolve:d,reject:g,next:null};f?f=f.next=h:(e=f=h,c(a,b))})},"function"!=typeof b.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(b.prototype[Symbol.asyncIterator]=function(){return this}),b.prototype.next=function(a){return this._invoke("next",a)},b.prototype.throw=function(a){return this._invoke("throw",a)},b.prototype.return=function(a){return this._invoke("return",a)},{wrap:function(a){return function(){return new b(a.apply(this,arguments))}},await:function(b){return new a(b)}}}(),babelHelpers.asyncGeneratorDelegate=function(a,b){function c(c,d){return e=!0,d=new Promise(function(b){b(a[c](d))}),{done:!1,value:b(d)}}var d={},e=!1;return"function"==typeof Symbol&&Symbol.iterator&&(d[Symbol.iterator]=function(){return this}),d.next=function(a){return e?(e=!1,a):c("next",a)},"function"==typeof a.throw&&(d.throw=function(a){if(e)throw e=!1,a;return c("throw",a)}),"function"==typeof a.return&&(d.return=function(a){return c("return",a)}),d},babelHelpers.asyncToGenerator=function(a){return function(){var b=a.apply(this,arguments);return new Promise(function(a,c){function d(e,f){try{var g=b[e](f),h=g.value}catch(a){return void c(a)}return g.done?void a(h):Promise.resolve(h).then(function(a){d("next",a)},function(a){d("throw",a)})}return d("next")})}},babelHelpers.classCallCheck=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},babelHelpers.createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),babelHelpers.defineEnumerableProperties=function(a,b){for(var c in b){var d=b[c];d.configurable=d.enumerable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,c,d)}return a},babelHelpers.defaults=function(a,b){for(var c=Object.getOwnPropertyNames(b),d=0;d<c.length;d++){var e=c[d],f=Object.getOwnPropertyDescriptor(b,e);f&&f.configurable&&a[e]===void 0&&Object.defineProperty(a,e,f)}return a},babelHelpers.defineProperty=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},babelHelpers.extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a},babelHelpers.get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(e===void 0){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;return void 0===g?void 0:g.call(d)},babelHelpers.inherits=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},babelHelpers.instanceof=function(a,b){return null!=b&&"undefined"!=typeof Symbol&&b[Symbol.hasInstance]?b[Symbol.hasInstance](a):a instanceof b},babelHelpers.interopRequireDefault=function(a){return a&&a.__esModule?a:{default:a}},babelHelpers.interopRequireWildcard=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b},babelHelpers.newArrowCheck=function(a,b){if(a!==b)throw new TypeError("Cannot instantiate an arrow function")},babelHelpers.objectDestructuringEmpty=function(a){if(null==a)throw new TypeError("Cannot destructure undefined")},babelHelpers.objectWithoutProperties=function(a,b){var c={};for(var d in a)0<=b.indexOf(d)||Object.prototype.hasOwnProperty.call(a,d)&&(c[d]=a[d]);return c},babelHelpers.possibleConstructorReturn=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a},babelHelpers.selfGlobal="undefined"==typeof global?self:global,babelHelpers.set=function a(b,c,d,e){var f=Object.getOwnPropertyDescriptor(b,c);if(f===void 0){var g=Object.getPrototypeOf(b);null!==g&&a(g,c,d,e)}else if("value"in f&&f.writable)f.value=d;else{var h=f.set;h!==void 0&&h.call(e,d)}return d},babelHelpers.slicedToArray=function(){function a(a,b){var c,d=[],e=!0,f=!1;try{for(var g,h=a[Symbol.iterator]();!(e=(g=h.next()).done)&&(d.push(g.value),!(b&&d.length===b));e=!0);}catch(a){f=!0,c=a}finally{try{!e&&h["return"]&&h["return"]()}finally{if(f)throw c}}return d}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),babelHelpers.slicedToArrayLoose=function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){for(var c,d=[],e=a[Symbol.iterator]();!(c=e.next()).done&&(d.push(c.value),!(b&&d.length===b)););return d}throw new TypeError("Invalid attempt to destructure non-iterable instance")},babelHelpers.taggedTemplateLiteral=function(a,b){return Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))},babelHelpers.taggedTemplateLiteralLoose=function(a,b){return a.raw=b,a},babelHelpers.temporalRef=function(a,b,c){if(a===c)throw new ReferenceError(b+" is not defined - temporal dead zone");else return a},babelHelpers.temporalUndefined={},babelHelpers.toArray=function(a){return Array.isArray(a)?a:Array.from(a)},babelHelpers.toConsumableArray=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)},babelHelpers;import{Vector2,Vector3,Euler,Spherical,Object3D,Scene,Camera,WebGLRenderer,PerspectiveCamera,Group,Light,DirectionalLight,AmbientLight,Material,PointsMaterial,BufferGeometry,SphereBufferGeometry,MeshStandardMaterial,Mesh,Points,LineBasicMaterial,Line,Sprite,BoxBufferGeometry,CircleBufferGeometry,LineSegments,LineLoop,CylinderBufferGeometry,ConeBufferGeometry,AxesHelper,OrthographicCamera,PlaneBufferGeometry,DodecahedronBufferGeometry,IcosahedronBufferGeometry,OctahedronBufferGeometry,RingBufferGeometry,TetrahedronBufferGeometry,TorusBufferGeometry,TorusKnotBufferGeometry,ArrowHelper,Color,BoxHelper,PointLight,SpotLight,TextureLoader,UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,SphericalReflectionMapping,CubeUVReflectionMapping,CubeUVRefractionMapping,RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping,NearestFilter,LinearFilter,NearestMipMapNearestFilter,NearestMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipMapLinearFilter,AlphaFormat,RGBFormat,RGBAFormat,LuminanceFormat,LuminanceAlphaFormat,RGBEFormat,DepthFormat,DepthStencilFormat,UnsignedByteType,ByteType,ShortType,UnsignedShortType,IntType,UnsignedIntType,FloatType,HalfFloatType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShort565Type,UnsignedInt248Type,LinearEncoding,sRGBEncoding,GammaEncoding,RGBEEncoding,LogLuvEncoding,RGBM7Encoding,RGBM16Encoding,RGBDEncoding,BasicDepthPacking,RGBADepthPacking,ExtrudeBufferGeometry,TextBufferGeometry,FontLoader,SpriteMaterial,GridHelper,ShadowMaterial,CameraHelper,DirectionalLightHelper}from"https://unpkg.com/three@0.90.0/build/three.module.js";var VglNamespace={inject:{vglNamespace:{default:function(){var a,b=this,c=[],d=[];return{renderers:c,cameras:Object.create(null),scenes:Object.create(null),update:function(){a||(b.$nextTick(function(){d.forEach(function(a){a()}),c.forEach(function(a){a.render()}),a=!1}),a=!0)},beforeRender:d,geometries:Object.create(null),materials:Object.create(null),textures:Object.create(null)}}}},provide:function(){return{vglNamespace:Object.create(this.vglNamespace,{geometries:{value:Object.create(this.vglNamespace.geometries)},materials:{value:Object.create(this.vglNamespace.materials)},textures:{value:Object.create(this.vglNamespace.textures)}})}},render:function(a){return this.$slots.default?a("div",this.$slots.default):void 0}},toConsumableArray=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)};/**
 * Returns a parsed vector3 object.
 */function parseVector3(a){return a.isVector3?a:new(Function.prototype.bind.apply(Vector3,[null].concat(toConsumableArray(a.trim().split(/\s+/).map(function(a){return parseFloat(a)})))))}/**
 * Returns a parsed vector2 object.
 */function parseVector2(a){return a.isVector2?a:new(Function.prototype.bind.apply(Vector2,[null].concat(toConsumableArray(a.trim().split(/\s+/).map(function(a){return parseFloat(a)})))))}/**
 * Returns a parsed euler object.
 */function parseEuler(a){return a.isEuler?a:new(Function.prototype.bind.apply(Euler,[null].concat(toConsumableArray(a.trim().split(/\s+/).map(function(a,b){return 3===b?a:parseFloat(a)})))))}/**
 * Returns a parsed spherical object.
 */function parseSpherical(a){return a.isSpherical?a:new(Function.prototype.bind.apply(Spherical,[null].concat(toConsumableArray(a.trim().split(/\s+/).map(function(a){return parseFloat(a)})))))().makeSafe()}var number=[String,Number],string=String,vector3=[String,Vector3],spherical=[String,Spherical],boolean=Boolean,euler=[String,Euler],vector2=[String,Vector2],VglObject3d={props:{position:vector3,rotation:euler,scale:vector3,castShadow:boolean,receiveShadow:boolean,name:string},computed:{inst:function(){return new Object3D}},inject:{vglObject3d:{default:{}},vglNamespace:"vglNamespace"},provide:function(){var a=this;return{vglObject3d:{get inst(){return a.inst}}}},created:function(){this.vglNamespace.update()},beforeUpdate:function(){this.vglNamespace.update()},beforeDestroy:function(){this.inst.parent&&this.inst.parent.remove(this.inst),this.vglNamespace.update()},watch:{inst:{handler:function(a,b){b&&b.parent&&b.parent.remove(b),this.vglObject3d.inst&&this.vglObject3d.inst.add(a),this.position&&a.position.copy(parseVector3(this.position)),this.rotation&&a.rotation.copy(parseEuler(this.rotation)),this.scale&&a.scale.copy(parseVector3(this.scale)),Object.assign(a,{castShadow:this.castShadow,receiveShadow:this.receiveShadow})},immediate:!0},"vglObject3d.inst":function(a){a.add(this.inst)},position:function(a){this.inst.position.copy(parseVector3(a))},rotation:function(a){this.inst.rotation.copy(parseEuler(a))},scale:function(a){this.inst.scale.copy(parseVector3(a))},castShadow:function(a){this.inst.castShadow=a},receiveShadow:function(a){this.inst.receiveShadow=a}},render:function(a){return this.$slots.default?a("div",this.$slots.default):void 0}},vglScene={mixins:[VglObject3d],computed:{inst:function(){return new Scene}},watch:{inst:{handler:function(a){this.vglNamespace.scenes[this.name]=a},immediate:!0},name:function(a,b){var c=this.vglNamespace.scenes,d=this.inst;c[b]===d&&delete c[b],c[a]=d}},beforeDestroy:function(){var a=this.vglNamespace.scenes,b=this.inst;a[this.name]===b&&delete a[this.name]}},VglCamera={mixins:[VglObject3d],props:{orbitTarget:vector3,orbitPosition:spherical},computed:{inst:function(){return new Camera}},watch:{inst:{handler:function(a){if(this.vglNamespace.cameras[this.name]=a,this.orbitPosition||this.orbitTarget){var b;this.orbitTarget&&(b=parseVector3(this.orbitTarget)),this.orbitPosition&&(a.position.setFromSpherical(parseSpherical(this.orbitPosition)),b&&a.position.add(b)),a.lookAt(b||new Vector3)}},immediate:!0},name:function(a,b){var c=this.vglNamespace.cameras,d=this.inst;c[b]===d&&delete c[b],c[a]=d},orbitTarget:function(a){var b=parseVector3(a);this.orbitPosition&&this.inst.position.setFromSpherical(parseSpherical(this.orbitPosition)).add(b),this.inst.lookAt(b)},orbitPosition:function(a){if(this.inst.position.setFromSpherical(parseSpherical(a)),this.orbitTarget){var b=parseVector3(this.orbitTarget);this.inst.position.add(b),this.inst.lookAt(b)}else this.inst.lookAt(new Vector3)}},beforeDestroy:function(){var a=this.vglNamespace.cameras,b=this.inst;a[this.name]===b&&delete a[this.name]}},vglRenderer={mixins:[VglNamespace],props:{precision:string,alpha:boolean,disablePremultipliedAlpha:boolean,antialias:boolean,disableStencil:boolean,powerPreference:string,preserveDrawingBuffer:boolean,disableDepth:boolean,logarithmicDepthBuffer:boolean,camera:string,scene:string,shadowMapEnabled:boolean},computed:{inst:function(){var a=new WebGLRenderer({precision:this.precision,alpha:this.alpha,premultipliedAlpha:!this.disablePremultipliedAlpha,antialias:this.antialias,stencil:!this.disableStencil,preserveDrawingBuffer:this.preserveDrawingBuffer,depth:!this.disableDepth,logarithmicDepthBuffer:this.logarithmicDepthBuffer,powerPreference:this.powerPreference});return a.shadowMap.enabled=this.shadowMapEnabled,a}},methods:{render:function(){var a=this.vglNamespace.scenes[this.scene],b=this.vglNamespace.cameras[this.camera];if(a&&b){if(b.isPerspectiveCamera){var c=this.$el.clientWidth/this.$el.clientHeight;b.aspect!==c&&(b.aspect=c,b.updateProjectionMatrix())}else if(b.isOrthographicCamera){var d=this.$el.clientWidth/2,e=this.$el.clientHeight/2;(b.right!==d||b.top!==e)&&(b.left=-d,b.right=d,b.top=e,b.bottom=-e,b.updateProjectionMatrix())}else throw new TypeError("Unknown camera type.");this.inst.render(a,b)}}},watch:{inst:function(a,b){this.$el&&(a.setSize(this.$el.clientWidth,this.$el.clientHeight),this.$el.replaceChild(a.domElement,b.domElement),this.vglNamespace.update()),b.dispose()}},created:function(){this.vglNamespace.renderers.push(this)},mounted:function(){this.inst.setSize(this.$el.clientWidth,this.$el.clientHeight),this.$el.insertBefore(this.inst.domElement,this.$el.firstChild),this.vglNamespace.update()},beforeDestroy:function(){this.vglNamespace.renderers.splice(this.vglNamespace.renderers.indexOf(this),1),this.inst.dispose()},render:function(a){var b=this;return a("div",[a("iframe",{style:{visibility:"hidden",width:"100%",height:"100%"},on:{load:function(a){a.target.contentWindow.addEventListener("resize",function(){b.inst.setSize(b.$el.clientWidth,b.$el.clientHeight),b.vglNamespace.update()},!1)}}},this.$slots.default)])}},vglPerspectiveCamera={mixins:[VglCamera],props:{zoom:{type:number,default:1},near:{type:number,default:.1},far:{type:number,default:2e3},fov:{type:number,default:50}},computed:{inst:function(){return new PerspectiveCamera}},watch:{inst:{handler:function(a){Object.assign(a,{zoom:parseFloat(this.zoom),near:parseFloat(this.near),far:parseFloat(this.far),fov:parseFloat(this.fov)})},immediate:!0},zoom:function(a){this.inst.zoom=parseFloat(a)},near:function(a){this.inst.near=parseFloat(a)},far:function(a){this.inst.far=parseFloat(a)},fov:function(a){this.inst.fov=parseFloat(a)}}},vglGroup={mixins:[VglObject3d],computed:{inst:function(){return new Group}}},VglLight={mixins:[VglObject3d],props:{color:{type:string,default:"#fff"},intensity:{type:number,default:1}},computed:{inst:function(){return new Light}},watch:{inst:{handler:function(a){a.color.setStyle(this.color),Object.assign(a,{intensity:parseFloat(this.intensity)})},immediate:!0},color:function(a){this.inst.color.setStyle(a)},intensity:function(a){this.inst.intensity=parseFloat(a)}}},vglDirectionalLight={mixins:[VglLight],computed:{inst:function(){return new DirectionalLight}}},vglAmbientLight={mixins:[VglLight],computed:{inst:function(){return new AmbientLight}}},VglMaterial={inject:["vglNamespace"],props:{name:string},computed:{inst:function(){return new Material}},watch:{inst:{handler:function(a){this.vglNamespace.materials[this.name]=a},immediate:!0},name:function(a,b){var c=this.vglNamespace.materials,d=this.inst;c[b]===d&&delete c[b],c[a]=d}},beforeDestroy:function(){var a=this.vglNamespace.materials,b=this.inst;a[this.name]===b&&delete a[this.name]},created:function(){this.vglNamespace.update()},beforeUpdate:function(){this.vglNamespace.update()},render:function(a){return this.$slots.default?a("div",this.$slots.default):void 0}},vglPointsMaterial={mixins:[VglMaterial],props:{color:{type:string,default:"#fff"},size:{type:number,default:1},disableSizeAttenuation:boolean},computed:{inst:function(){return new PointsMaterial}},watch:{inst:{handler:function(a){Object.assign(a,{size:parseFloat(this.size),sizeAttenuation:!this.disableSizeAttenuation}),a.color.setStyle(this.color)},immediate:!0},color:function(a){this.inst.color.setStyle(a)},size:function(a){this.inst.size=parseFloat(a)},disableSizeAttenuation:function(a){this.inst.sizeAttenuation=!a}}},VglGeometry={inject:["vglNamespace"],props:{name:string},computed:{inst:function(){return new BufferGeometry}},watch:{inst:{handler:function(a){this.vglNamespace.geometries[this.name]=a},immediate:!0},name:function(a,b){var c=this.vglNamespace.geometries,d=this.inst;c[b]===d&&delete c[b],c[a]=d}},beforeDestroy:function(){var a=this.vglNamespace.geometries,b=this.inst;a[this.name]===b&&delete a[this.name]},created:function(){this.vglNamespace.update()},beforeUpdate:function(){this.vglNamespace.update()},render:function(a){return this.$slots.default?a("div",this.$slots.default):void 0}},vglSphereGeometry={mixins:[VglGeometry],props:{radius:{type:number,default:1},widthSegments:{type:number,default:8},heightSegments:{type:number,default:6},phiStart:{type:number,default:0},phiLength:{type:number,default:2*Math.PI},thetaStart:{type:number,default:0},thetaLength:{type:number,default:Math.PI}},computed:{inst:function(){return new SphereBufferGeometry(parseFloat(this.radius),parseInt(this.widthSegments,10),parseInt(this.heightSegments,10),parseFloat(this.phiStart),parseFloat(this.phiLength),parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},VglObject3dWithMatarial={mixins:[VglObject3d],props:{material:string},methods:{setMaterial:function(){var a=this.vglNamespace.materials,b=this.material,c=this.inst;a[b]&&(c.material=a[b])}},created:function(){this.vglNamespace.beforeRender.unshift(this.setMaterial)},beforeDestroy:function(){var a=this.vglNamespace.beforeRender,b=this.setMaterial;a.splice(a.indexOf(b),1)}},VglObject3dWithMatarialAndGeometry={mixins:[VglObject3dWithMatarial],props:{geometry:string},methods:{setGeometry:function(){var a=this.vglNamespace.geometries,b=this.geometry,c=this.inst;a[b]&&(c.geometry=a[b])}},created:function(){this.vglNamespace.beforeRender.unshift(this.setGeometry)},beforeDestroy:function(){var a=this.vglNamespace.beforeRender,b=this.setGeometry;a.splice(a.indexOf(b),1)}},VglMaterialWithMap={mixins:[VglMaterial],props:{map:string},methods:{setMap:function(){var a=this.vglNamespace.textures,b=this.inst,c=this.map;c in a&&(b.map=a[c])}},created:function(){this.vglNamespace.beforeRender.unshift(this.setMap)},beforeDestroy:function(){var a=this.vglNamespace.beforeRender,b=this.setMap;a.splice(a.indexOf(b),1)}},VglHedronGeometry={mixins:[VglGeometry],props:{radius:{type:number,default:1},detail:{type:number,default:0}}},vglMeshStandardMaterial={mixins:[VglMaterialWithMap],props:{color:{type:string,default:"#fff"}},computed:{inst:function(){return new MeshStandardMaterial}},watch:{inst:{handler:function(a){a.color.setStyle(this.color)},immediate:!0},color:function(a){this.inst.color.setStyle(a)}}},vglMesh={mixins:[VglObject3dWithMatarialAndGeometry],computed:{inst:function(){return new Mesh}}},vglPoints={mixins:[VglObject3dWithMatarialAndGeometry],computed:{inst:function(){return new Points}}},vglLineBasicMaterial={mixins:[VglMaterial],props:{color:{type:string,default:"#fff"},lights:boolean,linewidth:{type:number,default:1},linecap:{type:string,default:"round"},linejoin:{type:string,default:"round"}},computed:{inst:function(){return new LineBasicMaterial}},watch:{inst:{handler:function(a){Object.assign(a,{lights:this.lights,linecap:this.linecap,linejoin:this.linejoin,linewidth:parseFloat(this.linewidth)}),a.color.setStyle(this.color)},immediate:!0},color:function(a){this.inst.color.setStyle(a)},lights:function(a){this.inst.lights=a},linewidth:function(a){this.inst.linewidth=parseFloat(a)},linecap:function(a){this.inst.linecap=a},linejoin:function(a){this.inst.linejoin=a}}},VglLine={mixins:[VglObject3dWithMatarialAndGeometry],computed:{inst:function(){return new Line}}},vglSprite={mixins:[VglObject3dWithMatarial],computed:{inst:function(){return new Sprite}}},vglBoxGeometry={mixins:[VglGeometry],props:{width:{type:number,default:1},height:{type:number,default:1},depth:{type:number,default:1},widthSegments:{type:number,default:1},heightSegments:{type:number,default:1},depthSegments:{type:number,default:1}},computed:{inst:function(){return new BoxBufferGeometry(parseFloat(this.width),parseFloat(this.height),parseFloat(this.depth),parseInt(this.widthSegments,10),parseInt(this.heightSegments,10),parseInt(this.depthSegments,10))}}},vglCircleGeometry={mixins:[VglGeometry],props:{radius:{type:number,default:1},segments:{type:number,default:8},thetaStart:{type:number,default:0},thetaLength:{type:number,default:2*Math.PI}},computed:{inst:function(){return new CircleBufferGeometry(parseFloat(this.radius),parseInt(this.segments,10),parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},vglLineSegments={mixins:[VglLine],computed:{inst:function(){return new LineSegments}}},vglLineLoop={mixins:[VglLine],computed:{inst:function(){return new LineLoop}}},VglCylinderGeometry={mixins:[VglGeometry],props:{radiusTop:{type:number,default:1},radiusBottom:{type:number,default:1},height:{type:number,default:1},radialSegments:{type:number,default:8},heightSegments:{type:number,default:1},openEnded:Boolean,thetaStart:{type:number,default:0},thetaLength:{type:number,default:2*Math.PI}},computed:{inst:function(){return new CylinderBufferGeometry(parseFloat(this.radiusTop),parseFloat(this.radiusBottom),parseFloat(this.height),parseInt(this.radialSegments,10),parseInt(this.heightSegments,10),this.openEnded,parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},vglConeGeometry={mixins:[VglCylinderGeometry],props:{radius:{type:number,default:1}},computed:{inst:function(){return new ConeBufferGeometry(parseFloat(this.radius),parseFloat(this.height),parseInt(this.radialSegments,10),parseInt(this.heightSegments,10),this.openEnded,parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},vglAxesHelper={mixins:[VglObject3d],props:{size:{type:number,default:1}},computed:{inst:function(){return new AxesHelper(parseFloat(this.size))}}},vglOrthographicCamera={mixins:[VglCamera],props:{zoom:{type:number,default:1},near:{type:number,default:.1},far:{type:number,default:2e3}},computed:{inst:function(){return new OrthographicCamera}},watch:{inst:{handler:function(a){Object.assign(a,{zoom:parseFloat(this.zoom),near:parseFloat(this.near),far:parseFloat(this.far)})},immediate:!0},zoom:function(a){this.inst.zoom=parseFloat(a)},near:function(a){this.inst.near=parseFloat(a)},far:function(a){this.inst.far=parseFloat(a)}}},vglPlaneGeometry={mixins:[VglGeometry],props:{width:{type:number,default:1},height:{type:number,default:1},widthSegments:{type:number,default:1},heightSegments:{type:number,default:1}},computed:{inst:function(){return new PlaneBufferGeometry(parseFloat(this.width),parseFloat(this.height),parseInt(this.widthSegments,10),parseInt(this.heightSegments,10))}}},vglDodecahedronGeometry={mixins:[VglHedronGeometry],computed:{inst:function(){return new DodecahedronBufferGeometry(parseFloat(this.radius),parseInt(this.detail,10))}}},vglIcosahedronGeometry={mixins:[VglHedronGeometry],computed:{inst:function(){return new IcosahedronBufferGeometry(parseFloat(this.radius),parseInt(this.detail,10))}}},vglOctahedronGeometry={mixins:[VglHedronGeometry],computed:{inst:function(){return new OctahedronBufferGeometry(parseFloat(this.radius),parseInt(this.detail,10))}}},vglRingGeometry={mixins:[VglGeometry],props:{innerRadius:{type:number,default:.5},outerRadius:{type:number,default:1},thetaSegments:{type:number,default:8},phiSegments:{type:number,default:1},thetaStart:{type:number,default:0},thetaLength:{type:number,default:2*Math.PI}},computed:{inst:function(){return new RingBufferGeometry(parseFloat(this.innerRadius),parseFloat(this.outerRadius),parseInt(this.thetaSegments,10),parseInt(this.phiSegments,10),parseFloat(this.thetaStart),parseFloat(this.thetaLength))}}},vglTetrahedronGeometry={mixins:[VglHedronGeometry],computed:{inst:function(){return new TetrahedronBufferGeometry(parseFloat(this.radius),parseInt(this.detail,10))}}},vglTorusGeometry={mixins:[VglGeometry],props:{radius:{type:number,default:1},tube:{type:number,default:.4},radialSegments:{type:number,default:8},tubularSegments:{type:number,default:6},arc:{type:number,default:2*Math.PI}},computed:{inst:function(){return new TorusBufferGeometry(parseFloat(this.radius),parseFloat(this.tube),parseInt(this.radialSegments,10),parseInt(this.tubularSegments,10),parseFloat(this.arc))}}},vglTorusKnotGeometry={mixins:[VglGeometry],props:{radius:{type:number,default:1},tube:{type:number,default:.4},radialSegments:{type:number,default:8},tubularSegments:{type:number,default:64},p:{type:number,default:2},q:{type:number,default:3}},computed:{inst:function(){return new TorusKnotBufferGeometry(parseFloat(this.radius),parseFloat(this.tube),parseInt(this.tubularSegments,10),parseInt(this.radialSegments,10),parseInt(this.p,10),parseInt(this.q,10))}}},vglArrowHelper={mixins:[VglObject3d],props:{dir:vector3,length:{type:number,default:1},color:{type:string,default:"#ff0"},headLength:number,headWidth:number},computed:{inst:function(){return new ArrowHelper(new Vector3(0,1,0),new Vector3())},len:function(){return[parseFloat(this.length),this.headLength===void 0?void 0:parseFloat(this.headLength),this.headWidth===void 0?void 0:parseFloat(this.headWidth)]}},watch:{inst:{handler:function(a){this.dir&&a.setDirection(parseVector3(this.dir).normalize()),a.setLength.apply(a,toConsumableArray(this.len)),a.setColor(new Color(this.color))},immediate:!0},dir:function(a){this.inst.setDirection(parseVector3(a).normalize())},len:function(a){var b;(b=this.inst).setLength.apply(b,toConsumableArray(a))},color:function(a){this.inst.setColor(new Color(a))}}},vglBoxHelper={mixins:[VglObject3d],props:{color:{type:string,default:"#ff0"}},computed:{inst:function(){return new BoxHelper(void 0,this.color)}},methods:{setFromObject:function(){this.inst.setFromObject(this.vglObject3d.inst)}},created:function(){this.vglNamespace.beforeRender.push(this.setFromObject)},beforeDestroy:function(){var a=this.vglNamespace.beforeRender,b=this.setFromObject;a.splice(a.indexOf(b),1)}},vglPointLight={mixins:[VglLight],props:{distance:{type:number,default:0},decay:{type:number,default:1}},computed:{inst:function(){return new PointLight}},watch:{inst:{handler:function(a){Object.assign(a,{distance:parseFloat(this.distance),decay:parseFloat(this.decay)})},immediate:!0},distance:function(a){this.inst.distance=parseFloat(a)},decay:function(a){this.inst.decay=parseFloat(a)}}},vglSpotLight={mixins:[VglLight],props:{distance:{type:number,default:0},decay:{type:number,default:1},angle:{type:number,default:Math.PI/3},penumbra:{type:number,default:0},target:vector3},computed:{inst:function(){return new SpotLight}},beforeDestroy:function(){this.inst.target.parent&&this.inst.target.parent.remove(this.inst.target)},watch:{inst:{handler:function(a){Object.assign(a,{distance:parseFloat(this.distance),decay:parseFloat(this.decay),angle:parseFloat(this.angle),penumbra:parseFloat(this.penumbra)}),this.target&&a.target.position.copy(parseVector3(this.target)),this.vglObject3d.inst&&this.vglObject3d.inst.add(a.target)},immediate:!0},"vglObject3d.inst":function(a){a.add(this.inst.target)},distance:function(a){this.inst.distance=parseFloat(a)},decay:function(a){this.inst.decay=parseFloat(a)},angle:function(a){this.inst.angle=parseFloat(a)},penumbra:function(a){this.inst.penumbra=parseFloat(a)},target:function(a){this.inst.target.position.copy(parseVector3(a))}}},_mapping={uv:UVMapping,"cube-reflection":CubeReflectionMapping,"cube-refraction":CubeRefractionMapping,"equirectangular-reflection":EquirectangularReflectionMapping,"equirectangular-refraction":EquirectangularRefractionMapping,"spherical-reflection":SphericalReflectionMapping,"cube-uv-reflection":CubeUVReflectionMapping,"cube-uv-refraction":CubeUVRefractionMapping},wrapping={repeat:RepeatWrapping,"clamp-to-edge":ClampToEdgeWrapping,"mirrored-repeat":MirroredRepeatWrapping},filter={nearest:NearestFilter,"nearest-mip-map-nearest":NearestMipMapNearestFilter,"nearest-mip-map-linear":NearestMipMapLinearFilter,linear:LinearFilter,"linear-mip-map-nearest":LinearMipMapNearestFilter,"linear-mip-map-linear":LinearMipMapLinearFilter},_format={alpha:AlphaFormat,rgb:RGBFormat,rgba:RGBAFormat,luminance:LuminanceFormat,"luminance-alpha":LuminanceAlphaFormat,rgbe:RGBEFormat,depth:DepthFormat,"depth-stencil":DepthStencilFormat},_type={"unsigned-byte":UnsignedByteType,byte:ByteType,short:ShortType,"unsigned-short":UnsignedShortType,int:IntType,"unsigned-int":UnsignedIntType,float:FloatType,"half-float":HalfFloatType,"unsigned-short-4444":UnsignedShort4444Type,"unsigned-short-5551":UnsignedShort5551Type,"unsigned-short-565":UnsignedShort565Type,"unsigned-int-248":UnsignedInt248Type},_encoding={linear:LinearEncoding,"s-rgb":sRGBEncoding,gamma:GammaEncoding,rgbe:RGBEEncoding,"log-luv":LogLuvEncoding,rgbm7:RGBM7Encoding,rgbm16:RGBM16Encoding,rgbde:RGBDEncoding,"basic-depth":BasicDepthPacking,"rgba-depth":RGBADepthPacking},vglTexture={inject:["vglNamespace"],props:{src:string,name:string,mapping:{type:string,default:"uv"},wrapS:{type:string,default:"clamp-to-edge"},wrapT:{type:string,default:"clamp-to-edge"},magFilter:{type:string,default:"linear"},minFilter:{type:string,default:"linear-mip-map-linear"},anisotropy:{type:number,default:1},format:string,type:{type:string,default:"unsigned-byte"},offset:vector2,repeat:vector2,rotation:{type:number,default:0},center:vector2,premultiplyAlpha:boolean,unpackAlignment:{type:number,default:4},encoding:{type:string,default:"linear"}},computed:{inst:function(){var a=this;return new TextureLoader().load(this.src,function(b){a.format&&Object.assign(b,{format:_format[a.format]}),a.vglNamespace.update()})}},watch:{inst:{handler:function(a){this.vglNamespace.textures[this.name]=a,Object.assign(a,{mapping:_mapping[this.mapping],wrapS:wrapping[this.wrapS],wrapT:wrapping[this.wrapT],magFilter:filter[this.magFilter],minFilter:filter[this.minFilter],anisotropy:parseInt(this.anisotropy,10),type:_type[this.type],rotation:parseFloat(this.rotation),premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:parseInt(this.unpackAlignment,10),encoding:_encoding[this.encoding]}),this.offset&&a.offset.copy(parseVector2(this.offset)),this.repeat&&a.repeat.copy(parseVector2(this.repeat)),this.center&&a.center.copy(parseVector2(this.center))},immediate:!0},name:function(a,b){var c=this.vglNamespace.textures,d=this.inst;c[b]===d&&delete c[b],c[a]=d},mapping:function(a){this.inst.mapping=_mapping[a]},wrapS:function(a){this.inst.wrapS=wrapping[a]},wrapT:function(a){this.inst.wrapT=wrapping[a]},magFilter:function(a){this.inst.magFilter=filter[a]},minFilter:function(a){this.inst.minFilter=filter[a]},anisotropy:function(a){this.inst.anisotropy=parseInt(a,10)},format:function(a){this.inst.format=_format[a]},type:function(a){this.inst.type=_type[a]},offset:function(a){this.inst.offset.copy(parseVector2(a))},repeat:function(a){this.inst.repeat.copy(parseVector2(a))},rotation:function(a){this.inst.rotation=parseFloat(a)},center:function(a){this.inst.center.copy(parseVector2(a))},premultiplyAlpha:function(a){this.inst.premultiplyAlpha=a},unpackAlignment:function(a){this.inst.unpackAlignment=parseInt(a,10)},encoding:function(a){this.inst.encoding=_encoding[a]}},beforeDestroy:function(){var a=this.vglNamespace.textures,b=this.inst,c=this.name;a[c]===b&&delete a[c]},beforeUpdate:function(){this.vglNamespace.update()},render:function(a){return this.$slots.default?a("div",this.$slots.default):void 0}},VglExtrudeGeometry={mixins:[VglGeometry],computed:{inst:function(){return new ExtrudeBufferGeometry([],{})}}},fonts=Object.create(null),vglTextGeometry={mixins:[VglExtrudeGeometry],props:{font:string,size:{type:number,default:100},height:{type:number,default:50},curveSegments:{type:number,default:12},bevelEnabled:boolean,bevelThickness:{type:number,default:10},bevelSize:{type:number,default:8},bevelSegments:{type:number,default:3},text:{type:string,default:""}},data:function(){return{f:void 0}},computed:{inst:function(){return this.f===void 0?new BufferGeometry:new TextBufferGeometry(this.text,{font:fonts[this.f],size:parseFloat(this.size),height:parseFloat(this.height),curveSegments:parseInt(this.curveSegments,10),bevelEnabled:this.bevelEnabled,bevelThickness:parseFloat(this.bevelThickness),bevelSize:parseFloat(this.bevelSize),bevelSegments:parseInt(this.bevelSegments,10)})}},watch:{font:{handler:function(a){var b=this;if(!!fonts[a])fonts[a].isFont?this.f=a:fonts[a].push(function(){a===b.font&&(b.f=a)});else if(fonts[a]=[function(){a===b.font&&(b.f=a)}],!/^data:.*?(?:;base64)?,.*$/.test(a)){// GET src data manually and pass as a data URI.
var c=new XMLHttpRequest;c.addEventListener("load",function(){new FontLoader().load("data:,"+encodeURIComponent(c.responseText),function(b){var c=fonts[a];fonts[a]=b,c.forEach(function(a){a()})})},!1),c.open("GET",a),c.send()}else new FontLoader().load(a,function(b){var c=fonts[a];fonts[a]=b,c.forEach(function(a){a()})})},immediate:!0}}},vglSpriteMaterial={mixins:[VglMaterialWithMap],props:{color:{type:string,default:"#fff"}},computed:{inst:function(){return new SpriteMaterial}},watch:{inst:{handler:function(a){a.color.setStyle(this.color)},immediate:!0},color:function(a){this.inst.color.setStyle(a)}}},vglGridHelper={mixins:[VglObject3d],props:{size:{type:number,default:10},divisions:{type:number,default:10},colorCenterLine:{type:string,default:"#444444"},colorGrid:{type:string,default:"#888888"}},computed:{inst:function(){return new GridHelper(parseFloat(this.size),parseInt(this.divisions,10),this.colorCenterLine,this.colorGrid)}}},vglShadowMaterial={mixins:[VglMaterial],computed:{inst:function(){return new ShadowMaterial}}},vglCameraHelper={mixins:[VglObject3d],props:{camera:string},computed:{inst:function(){return new CameraHelper(new Camera())}},methods:{setCamera:function(){this.inst.camera=this.vglNamespace.cameras[this.camera],this.inst.camera.updateProjectionMatrix(),this.inst.update()}},created:function(){this.vglNamespace.beforeRender.push(this.setCamera)},beforeDestroy:function(){var a=this.vglNamespace.beforeRender,b=this.setCamera;a.splice(a.indexOf(b),1)}},vglDirectionalLightHelper={mixins:[VglObject3d],props:{color:{type:string},size:{type:number,default:1}},computed:{inst:function(){return new DirectionalLightHelper(this.vglObject3d.inst,parseFloat(this.size))}},watch:{inst:{handler:function(a){this.color&&(Object.assign(a,{color:this.color}),a.update())},immediate:!0},color:function(a){this.inst.color=a,this.inst.update()}}};export{VglNamespace,VglObject3d,vglScene as VglScene,VglCamera,vglRenderer as VglRenderer,vglPerspectiveCamera as VglPerspectiveCamera,vglGroup as VglGroup,VglLight,vglDirectionalLight as VglDirectionalLight,vglAmbientLight as VglAmbientLight,VglMaterial,vglPointsMaterial as VglPointsMaterial,VglGeometry,vglSphereGeometry as VglSphereGeometry,vglMeshStandardMaterial as VglMeshStandardMaterial,vglMesh as VglMesh,vglPoints as VglPoints,vglLineBasicMaterial as VglLineBasicMaterial,VglLine,vglSprite as VglSprite,vglBoxGeometry as VglBoxGeometry,vglCircleGeometry as VglCircleGeometry,vglLineSegments as VglLineSegments,vglLineLoop as VglLineLoop,vglConeGeometry as VglConeGeometry,vglAxesHelper as VglAxesHelper,vglOrthographicCamera as VglOrthographicCamera,VglCylinderGeometry,vglPlaneGeometry as VglPlaneGeometry,vglDodecahedronGeometry as VglDodecahedronGeometry,vglIcosahedronGeometry as VglIcosahedronGeometry,vglOctahedronGeometry as VglOctahedronGeometry,vglRingGeometry as VglRingGeometry,vglTetrahedronGeometry as VglTetrahedronGeometry,vglTorusGeometry as VglTorusGeometry,vglTorusKnotGeometry as VglTorusKnotGeometry,vglArrowHelper as VglArrowHelper,vglBoxHelper as VglBoxHelper,vglPointLight as VglPointLight,vglSpotLight as VglSpotLight,vglTexture as VglTexture,VglExtrudeGeometry,vglTextGeometry as VglTextGeometry,vglSpriteMaterial as VglSpriteMaterial,vglGridHelper as VglGridHelper,vglShadowMaterial as VglShadowMaterial,vglCameraHelper as VglCameraHelper,vglDirectionalLightHelper as VglDirectionalLightHelper};
