---
---
<div id="app">
  <vgl-renderer antialias style="height: 100vh;">
    <vgl-scene>
      <vgl-spot-light
        name="light"
        :position="`${px} ${py} ${pz}`"
        :color="`#${[r, g, b].map(v => parseInt(v).toString(16)).map(v => v.length < 2 ? '0' + v : v).join('')}`"
        :distance="distance"
        :angle="angle"
        :target="`${tx} ${ty} ${tz}`"
      ></vgl-spot-light>
      <vgl-spot-light-helper light="light"></vgl-spot-light-helper>
    </vgl-scene>
    <vgl-perspective-camera orbit-position="100 1.8 0.5"></vgl-perspective-camera>
  </vgl-renderer>

  <aside class="control-panel">
    <section>
      <h3>Light color</h3>
      <label>R<input type="range" max="255" v-model="r"></label>
      <label>G<input type="range" max="255" v-model="g"></label>
      <label>B<input type="range" max="255" v-model="b"></label>
    </section>
    <section>
      <h3>Light position</h3>
      <label>x<input type="range" min="-100" v-model="px"></label>
      <label>y<input type="range" min="-100" v-model="py"></label>
      <label>z<input type="range" min="-100" v-model="pz"></label>
    </section>
    <section>
      <h3>Light target</h3>
      <label>x<input type="range" min="-100" v-model="tx"></label>
      <label>y<input type="range" min="-100" v-model="ty"></label>
      <label>z<input type="range" min="-100" v-model="tz"></label>
    </section>
    <section>
      <h3>Light properties</h3>
      <label>Distance<input v-model="distance" type="range"></label>
      <label>Angle<input v-model="angle" type="range" step="0.01" max="1.57"></label>
    </section>
  </aside>
</div>

<script>
  (window.vueOpts = window.vueOpts || []).push({
    el: '#app',
    data: {
      r: 255,
      g: 255,
      b: 255,
      px: 30,
      py: 30,
      pz: 0,
      tx: -30,
      ty: -30,
      tz: 0,
      distance: 50,
      angle: 0.5,
    },
  });
</script>